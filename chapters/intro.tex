\chapter{Introduction} % Main chapter title
% TODO CHECK 2-3 Seiten
% TODO CHECK Keine Ergebnisse
% TODO CHECK Keine Definitionen
% TODO CHECK Alles relevante vorhanden



% -------------------------------------------------------------------------------------------------
%                                             Structure
% -------------------------------------------------------------------------------------------------



% Motivation for VM

% Description of Problems with VM

% Description of Approach

% Proof of concept
% Description of Contents









% -------------------------------------------------------------------------------------------------
% -------------------------------------------------------------------------------------------------
% -------------------------------------------------------------------------------------------------
% -------------------------------------------------------------------------------------------------
% Motivation
% Most Computer use Virtual Memory

% THIS SECTION may primarily be about some facts about VM

%Quick Facts
% Intel 5 Level Paging intelTLBsPagingStructureCaches2008
% Sv57 RISC-V Paging RISCVInstructionSet


% Plethora of interfaces suggesting performance problems

% [ A look at several ]
% implemented on either the hardware or software side of the interface. The myriad of design choices and incompatible hardware mechanisms suggests potential performance problems, especially since increasing numbers of systems (even embedded systems) are using memory management. A comparative study of the implementation choices in virtual memory should therefore aid system-level designers.
\label{Intro}

\todo{CITE Architectural and operating system support for virtual memory}
Virtual memory is used by computer systems at all scales. Everything from systems running in huge data
centers to embedded computers rely on virtual memory.

% Relevance: Most computers today use a page-based virtual memory approach
Current radix page tables can get up to 5 levels deep \cite{intel5LevelPaging5Level2017}. Every level
adds another memory access to the page table lookup.\\
Caching structures can alleviate the cost by storing complete or partial translation results \cite{van2002memory}.
But especially large-memory applications, virtualized environments and graph-processing applications
suffer extensively from address translation costs \cite{zagieboylo2020cost}.


% -------------------------------------------------------------------------------------------------
% Problems with VM

% SOME NUMBERS PLEASE -> [ A look at several ...] abstract
% Previous approaches aimed to reduce the memory footprint or optimize cache accesses, or reduce page table
% walks to a minimum, this approach aims to eliminate paging structures completely

% Very short summarization of the way page-based virtual memory works, ending with the amount of memory references
% barrTranslationCachingSkip -> memory references keep on increasing as memory requirements increase

While previous work tried to either reduce the number of memory accesses \todo{CITE Lidtke ,Skip no walk, single hit uppsala paper},
decrease the occurrence of a TLB miss and decrease the latency of handling a TLB Miss, this paper
presents an approach to create a virtual memory scheme not requiring paging structures at all.\\


% TODO Problem Statement: Are paging structures even necesarry or can virtual memory purely be realized
%       by a simple software-defined function that refills the tlb?
%

% Conclusion on previous Work -> Still need a memory access

% The Idea -> Getting rid of any memory access in favor of simple arithmetic operation (eg. hash functions)
% statefull -> stateless

% -------------------------------------------------------------------------------------------------
% -------------------------------------------------------------------------------------------------
% Description of Approach
% TODO Very short: How the TLB is used

% The approach is not directly the TLB filling, thats just one
% implementation of the process.

% The main idea is to replace page table walks with simple function calls

Current hardware-supported virtual memory systems suffer from inflexibility and costly memory accesses \cite{jacob1998look}.\\
Software-based approaches are a lot more flexible, but are, so far, based on page table lookups as well.

% Soruce: Virtual memory: issues of implementation

\begin{itemize}
    \item Software Managed TLB
    \item Not based on page tables but a simple function to reduce memory accesses to a minimum
\end{itemize}


The RISC-V Instruction Set manual warns that ''[...]Software TLB refills are a performance bottleneck[...]''\cite{RISCVInstructionSet},
but also suggests that they may be realized by implementing a machine-mode trap handler as an extension to the
most-priviledged machine mode. This paper will explore just that.
% Auch -> Proof of concept
% Und: Keine Page table walks
% Discussion: -> A look at several ...


% WHAT DOES THIS PAPER DO
% -> SW TLB Handling Proof Of concept on riscv
% -> Use that TLB handling to realize a Segmented vm design not using any page tables


% -------------------------------------------------------------------------------------------------
% -------------------------------------------------------------------------------------------------
% Proof of concept


% -------------------------------------------------------------------------------------------------
% -------------------------------------------------------------------------------------------------
% Description of Contents


% Inhaltsbeschreibung
Kapitel 2 gibt eine Übersicht über ein bisschen Historie und die Grundlagen von Virtuellen
Speichersystemen. Das dort zusammengefasste Wissen stellt die Grundlage für den restlichen Teil der
Arbeit dar.\\
Kapitel 3 beschäftigt sich mit verwandten Arbeiten die sich auch mit der Optimierung des VM Systems
beschäftigen.\\
Kapitel 4 beschreibt die Theoretische Ausarbeitung der \textit{softtlb} Idee und stellt so mit die
Grundlage für die Implementierung da.\\
Die Implementierung wird in Kapitel 5 beschrieben. Dort wird näher auf die Eigenheiten der
Programmierplattformen eingegangen und der Implementationsprozess schrittweiße dargestellt.
Dort findet sich auch eine Übersicht der Debuggingtechniken die zur Verifikation und Fehlersuche
verwendet wurden.\\
Das sechste Kapitel setzt sich kritisch mit dem erziehlten Stand der theoretischen Ausarbeitung und
der Implementation außeinander und beleuchtet das Ergebnis im lichte typischer Requirements an
andere Virtuelle Speichersysteme. Dort schließt sich noch eine Diskussion über eine weitere
Vertiefung des Ansatzes an.\\
Im siebten Kapitel werden noch Vorschläge für auf diese Arbeit aufbauende Arbeiten gemacht. Diese
nehmen noch Bezug auf zuvor ausgeschlossene Themen wie Hardwareoptimierungen der Idee.\todo{future  work:
    Hardware stateless hash mmu, der meine Idee in hardware realisiert}
Das achte und letzte Kapitel gibt eine zusammenfassende Einschätzung der Arbeit ab.\\
% -------------------------------------------------------------------------------------------------






\cite{zagieboylo2020cost} has nice numbers in introduction for cost of VM